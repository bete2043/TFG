<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
</head>
<body>
    <div class="perfil-container">
        <h1 class="titulo">Perfil</h1>

        <!-- Nombre -->
        <div class="informacion">
            <div class="t-info">Nombre:</div>
            <div class="tbd-info">{{ perfil.username }}</div>
            <button class="edit-button" (click)="editNombre = !editNombre">Editar</button>
        </div>
        <div *ngIf="editNombre" class="edit-input">
            <label>Nuevo nombre:</label>
            <input [(ngModel)]="nuevoNombre" placeholder="Nuevo nombre" />
            <button class="save-button" (click)="guardarCampo('username', nuevoNombre)">Guardar</button>
            <p [ngClass]="{ 'success': mensajeNombre === 'Nombre de usuario modificado con Ã©xito.' , 'error': mensajeNombre !== 'Nombre de usuario modificado con Ã©xito.' }">{{ mensajeNombre }}</p>
        </div>

        <!-- Email -->
        <div class="informacion">
            <div class="t-info">Email:</div>
            <div class="tbd-info">{{ perfil.email }}</div>
            <button class="edit-button" (click)="editEmail = !editEmail">Editar</button>
        </div>
        <div *ngIf="editEmail" class="edit-input">
            <label>Nuevo email:</label>
            <input [(ngModel)]="nuevoEmail" placeholder="Nuevo email" />

            <label>Repetir nuevo email:</label>
            <input [(ngModel)]="repetirEmail" placeholder="Repetir nuevo email" />

            <button class="save-button" (click)="guardarCampo('email', nuevoEmail)">Guardar</button>
            <p [ngClass]="{ 'success': mensajeEmail === 'Email modificado con Ã©xito.', 'error': mensajeEmail !== 'Email modificado con Ã©xito.' }">{{ mensajeEmail }}</p>
        </div>

        <div class="informacion">
            <div class="t-info">NÃºmero de socio:</div>
            <div class="tbd-info">{{ perfil.member }}</div>
        </div>

        <!-- ContraseÃ±a -->
        <div class="edit-input">
            <label>ContraseÃ±a actual:</label>
            <div class="password-container">
                <input [type]="mostrarPasswordActual ? 'text' : 'password'" [(ngModel)]="passwordActual" placeholder="ContraseÃ±a actual" />
                <button type="button" class="eye-button" (click)="mostrarPasswordActual = !mostrarPasswordActual">
                    {{ mostrarPasswordActual ? 'ğŸ‘ï¸' : ' ğŸš«' }}
                </button>
            </div>

            <label>Nueva contraseÃ±a:</label>
            <div class="password-container">
                <input [type]="mostrarPasswordNueva ? 'text' : 'password'" [(ngModel)]="passwordNueva" placeholder="Nueva contraseÃ±a" />
                <button type="button" class="eye-button" (click)="mostrarPasswordNueva = !mostrarPasswordNueva">
                    {{ mostrarPasswordNueva ? 'ğŸ‘ï¸' : ' ğŸš«' }}
                </button>
            </div>

            <label>Confirmar nueva contraseÃ±a:</label>
            <div class="password-container">
                <input [type]="mostrarConfirmarPasswordNueva ? 'text' : 'password'" [(ngModel)]="confirmarPasswordNueva" placeholder="Confirmar nueva contraseÃ±a" />
                <button type="button" class="eye-button" (click)="mostrarConfirmarPasswordNueva = !mostrarConfirmarPasswordNueva">
                    {{ mostrarConfirmarPasswordNueva ? 'ğŸ‘ï¸' : ' ğŸš«' }}
                </button>
            </div>

            <button class="save-button" (click)="cambiarContrasena()">Guardar</button>
            <p [ngClass]="{ 'success': mensajePassword === 'ContraseÃ±a cambiada con Ã©xito.', 'error': mensajePassword !== 'ContraseÃ±a cambiada con Ã©xito.' }">{{ mensajePassword }}</p>
        </div>
    </div>
</body>
